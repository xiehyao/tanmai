# card-entry-v3 ä¸ card-entry / card-entry-v2 æ•°æ®å·®å¼‚æ’æŸ¥æŠ¥å‘Š

## ä¸€ã€ç»“è®ºæ¦‚è§ˆ

| ç±»åˆ« | ç¼ºå¤±é¡¹ | å»ºè®®åˆå¹¶ä½ç½® |
|------|--------|--------------|
| **Step1 åŸºç¡€** | å¤šåœ°å€ locationsï¼ˆè½åº“é€»è¾‘ä»å¾…è¡¥ï¼‰ï¼Œå…¶ä½™å­—æ®µï¼ˆfield_visibility / selected_avatar / personal_photosï¼‰å·²åœ¨ v3 ä¸­å®ç° | ç¬¬ 1 æ­¥ã€ŒåŸºæœ¬ä¿¡æ¯ã€+ ä¿å­˜ payload |
| **Step2 æ•™è‚²** | å®Œæ•´æ•™è‚²ç»å†ï¼ˆå°å­¦/åˆä¸­/é«˜ä¸­/æœ¬/ç¡•/åš+æ¯•ä¸šå¹´ã€æœ€é«˜å­¦å†ï¼‰ | ç¬¬ 1 æ­¥ã€Œæ•™è‚²ç»å†ã€å¡ç‰‡æˆ–ç‹¬ç«‹åŒºå— |
| **Step3 éœ€æ±‚** | æœªè°ƒç”¨ save-step/3ï¼Œæ•°æ®æœªè½åº“ | ç¬¬ 1 æ­¥ã€Œæˆ‘çš„éœ€æ±‚ã€ä¿å­˜æ—¶ä¸€å¹¶æäº¤ step3 |
| **Step4 èµ„æº** | æœªè°ƒç”¨ save-step/4ï¼Œæ•°æ®æœªè½åº“ | ç¬¬ 1 æ­¥ã€Œæˆ‘çš„èµ„æºã€ä¿å­˜æ—¶ä¸€å¹¶æäº¤ step4 |
| **Step5 ç¤¾å›¢** | desired_positionã€position_preferences ä¸¤å­—æ®µ | ç¬¬ 2 æ­¥ã€Œç¤¾å›¢/æ ¡å‹ä¼šå‚ä¸ã€å¡ç‰‡å†… |
| **Step6 è¡¥å……** | æœªè°ƒç”¨ save-step/6ï¼Œè¡¥å……ä¿¡æ¯æœªè½åº“ | ç¬¬ 1 æ­¥æˆ–ç¬¬ 2 æ­¥åº•éƒ¨ã€Œè¡¥å……ä¿¡æ¯ã€+ ä¿å­˜ step6 |

---

## äºŒã€é€é¡¹è¯´æ˜

### 1. Step1ï¼ˆåŸºç¡€ä¸åç‰‡ï¼‰

| æ•°æ®é¡¹ | card-entry (v1) | card-entry-v2 | card-entry-v3 | è¯´æ˜ |
|--------|-----------------|---------------|---------------|------|
| name, nickname, gender, birth_place | âœ… | âœ… | âœ… | å·²åˆå¹¶ |
| company, title, phone, email, wechat_id, bio | âœ… | âœ… | âœ… | å·²åˆå¹¶ï¼ˆv3 ä¸º contactItems + å• bioï¼‰ |
| **locations** | âœ… æ•°ç»„ï¼Œæ¯é¡¹å« location_type / address / location_visibility | âœ… ç®€åŒ–ä¸º main_address | âŒ ä»… main_addressï¼Œæ— å¤šåœ°å€ã€æ— ç±»å‹ä¸å¯è§æ€§ | v1 å¯å¤šæ¡åœ°å€å¹¶åŒºåˆ†å±…ä½/å·¥ä½œåœ°åŠå¯è§æ€§ |
| **field_visibility** | âœ… å„å­—æ®µç‹¬ç«‹å¯è§æ€§ï¼Œéš step1 æäº¤ | âœ… step1 å†… | âœ… v3 å·²å°† field_visibility ä¸€å¹¶éš step1 payload æäº¤ | ä¸ v1/v2 è¡Œä¸ºä¿æŒä¸€è‡´ |
| **avatar / selected_avatar** | âœ… ä¸¤è€…éƒ½å­˜ | âœ… | âœ… v3 ä½¿ç”¨ avatar å±•ç¤ºï¼Œå¹¶åœ¨ä¿å­˜æ—¶åŒæ­¥ selected_avatar | å…¼å®¹åç«¯åŒºåˆ†å¾®ä¿¡å¤´åƒä¸é¢„è®¾å¤´åƒçš„éœ€æ±‚ |
| **personal_photos** | âœ… æ•°ç»„ï¼Œéš step1 æäº¤ | - | âœ… æ”¯æŒå¤šå¼ ç›¸ç‰‡ personal_photosï¼Œå¹¶éš step1 æäº¤ | ä¸ v1 çš„å¤šå›¾ç›¸å†Œè¡Œä¸ºå¯¹é½ |

**åˆå¹¶å»ºè®®ï¼š**

- **locations**ï¼šåœ¨ã€Œè”ç³»æ–¹å¼ã€æˆ–ã€ŒåŸºæœ¬ä¿¡æ¯ã€ä¸‹ï¼Œç”¨ contactItems ä¸­ type=address çš„é¡¹ï¼Œæ„å»º `locations[]`ï¼ˆå« location_typeã€addressã€location_visibilityï¼‰ï¼Œåœ¨ `save-step/1` çš„ payload ä¸­ä¸€å¹¶æäº¤ï¼›åŒæ—¶ loadData æ—¶æŠŠæ¥å£è¿”å›çš„ `step1.locations` è½¬æˆ contactItems çš„åœ°å€è¡Œ + è‹¥åç«¯æ”¯æŒ location_visibility åˆ™åŒæ­¥åˆ° fieldVisibilityã€‚
- **field_visibility**ï¼šåœ¨ `onSave` ä¸ `saveStepToServer(1)` çš„ payload ä¸­å¢åŠ  `field_visibility: this.data.fieldVisibility`ï¼ˆæˆ–ä¸åç«¯çº¦å®š key ç»“æ„ï¼‰ã€‚
- **selected_avatar**ï¼špayload ä¸­å¢åŠ  `selected_avatar: this.data.avatar`ï¼ˆè‹¥åç«¯ç”¨ selected_avatar å­˜é¢„è®¾å¤´åƒï¼‰ã€‚
- **personal_photos**ï¼šè‹¥éœ€ä¸ v1 ä¸€è‡´ï¼Œå¯åœ¨ã€Œä¸ªäººä»‹ç»ã€æˆ–ã€ŒåŸºæœ¬ä¿¡æ¯ã€å¢åŠ ã€Œä¸ªäººç›¸å†Œã€åˆ—è¡¨ï¼Œå¹¶éš step1 æäº¤ `personal_photos` æ•°ç»„ï¼›å¦åˆ™ä»…ä¿ç•™å½“å‰å•å¼ ç›¸ç‰‡äº¦å¯ã€‚

---

### 2. Step2ï¼ˆæ•™è‚²ç»å†ï¼‰

| æ•°æ®é¡¹ | card-entry (v1) | card-entry-v2 | card-entry-v3 | è¯´æ˜ |
|--------|-----------------|---------------|---------------|------|
| å°å­¦/åˆä¸­/é«˜ä¸­ï¼ˆæ ¡å+æ¯•ä¸šå¹´ï¼‰ | âœ… | æœªå•ç‹¬å±•ç¤º | âš ï¸ v3 å·²é€šè¿‡ eduExperiences åˆ—è¡¨å±•ç¤ºï¼ˆæŒ‰ step2.primary_/middle_/high_* æ˜ å°„ï¼‰ï¼Œä½†å°šæœªå›å†™ step2 | è¯»å–ä¾§å·²å¯¹é½ï¼Œä¿å­˜é€»è¾‘ä»å¾…è¡¥ |
| æœ¬ç§‘/ç¡•å£«/åšå£«ï¼ˆæ ¡å+ä¸“ä¸š+æ¯•ä¸šå¹´ï¼‰ | âœ… | æœªå•ç‹¬å±•ç¤º | âš ï¸ v3 å·²æŒ‰æœ¬ç§‘/ç¡•å£«/åšå£«ç”Ÿæˆå¤šæ¡ eduExperiencesï¼Œç”¨äºå±•ç¤ºï¼›å°šæœªå›å†™ step2 ç»“æ„ | åç«¯ä¾ç„¶æŒ‰ bachelor/master/doctor å­—æ®µå­˜å‚¨ |
| highest_degree | âœ… | - | âš ï¸ load æ—¶å¸¦å…¥ï¼Œæœªå•ç‹¬ç¼–è¾‘ | å¯æ”¾åœ¨ã€Œæ•™è‚²ç»å†ã€å¡ç‰‡æˆ–æ¯æ¡å­¦å†çš„ degree ä¸­ |
| ä¿å­˜ step2 | âœ… save-step/2 | - | âŒ æœªè°ƒç”¨ | æ•™è‚²æ•°æ®æœªè½åº“ |

**åˆå¹¶å»ºè®®ï¼š**

- **æ–¹æ¡ˆ Aï¼ˆæ¨èï¼‰**ï¼šä¿ç•™ v3 çš„ã€Œæ•™è‚²ç»å†ã€åˆ—è¡¨å½¢å¼ï¼Œåœ¨ **loadData** æ—¶æŠŠ backend çš„ step2ï¼ˆprimary_school, middle_school, high_school, bachelor_university, bachelor_major, bachelor_graduation_year, master_*, doctor_*, highest_degreeï¼‰æ˜ å°„æˆå¤šæ¡ eduExperiencesï¼›åœ¨ **ä¿å­˜** æ—¶æ ¹æ® eduExperiences åæ¨å› step2 ç»“æ„ï¼ˆæˆ–çº¦å®šåç«¯æ”¯æŒã€Œåˆ—è¡¨ã€å†™å…¥ï¼‰ï¼Œå¹¶è°ƒç”¨ `save-step/2`ã€‚
- **æ–¹æ¡ˆ B**ï¼šåœ¨ã€Œæ•™è‚²ç»å†ã€åŒºå—å¢åŠ ä¸ v1 ä¸€è‡´çš„ã€Œå°å­¦/åˆä¸­/é«˜ä¸­/æœ¬ç§‘/ç¡•å£«/åšå£«ã€åˆ†ç»„è¡¨å•ï¼Œç›´æ¥å¯¹åº” step2 å„å­—æ®µï¼Œä¿å­˜æ—¶ç»„ payload è°ƒ `save-step/2`ã€‚

---

### 3. Step3ï¼ˆéœ€æ±‚ä¸çŠ¶æ€ï¼‰

| æ•°æ®é¡¹ | card-entry (v1) | card-entry-v2 | card-entry-v3 | è¯´æ˜ |
|--------|-----------------|---------------|---------------|------|
| marital_status, dating_need, dating_preferences | âœ… | âœ…ï¼ˆstep3.rawï¼‰ | âœ… æœ‰ UI ä¸ state | v3 æœªè°ƒ save-step/3 |
| job_seeking, job_target_*, job_preferences | âœ… | âœ… | âœ… æœ‰ UI ä¸ state | åŒä¸Š |
| entrepreneurship_need/type/description | âœ… | âœ… | âœ… æœ‰ UI ä¸ state | åŒä¸Š |

**åˆå¹¶å»ºè®®ï¼š**

- åœ¨ã€Œæˆ‘çš„éœ€æ±‚ã€æˆ–æ•´é¡µã€Œä¿å­˜ã€æ—¶ï¼ˆæˆ–åˆ‡æ¢æ­¥éª¤æ—¶ï¼‰ï¼Œç»„è£… step3 çš„ payloadï¼ˆmarital_status, dating_need, dating_preferences, job_seeking, job_target_position, job_target_industry, job_preferences, entrepreneurship_need, entrepreneurship_type, entrepreneurship_descriptionï¼‰ï¼Œè°ƒç”¨ `POST /api/card-entry/save-step/3`ã€‚è‹¥ v3 ä½¿ç”¨ã€Œå½“å‰ç”¨æˆ·ã€æ—  target_user_idï¼Œéœ€ç¡®è®¤åç«¯æ˜¯å¦æ”¯æŒã€Œæ—  target_user_id æ—¶ç”¨å½“å‰ç™»å½•ç”¨æˆ·ã€ï¼›è‹¥ä»…æ”¯æŒ target_user_idï¼Œåˆ™ step3 éœ€åœ¨å¸¦ user ä¸Šä¸‹æ–‡çš„ä¿å­˜æµç¨‹ä¸­ä¸€å¹¶æäº¤ã€‚

---

### 4. Step4ï¼ˆèµ„æºï¼‰

| æ•°æ®é¡¹ | card-entry (v1) | card-entry-v2 | card-entry-v3 | è¯´æ˜ |
|--------|-----------------|---------------|---------------|------|
| resources[]ï¼ˆtype/title/description/sharing_modeï¼‰ | âœ… | âœ… | âœ… æœ‰ UI ä¸ state | v3 æœªè°ƒ save-step/4 |

**åˆå¹¶å»ºè®®ï¼š**

- åœ¨ã€Œæˆ‘çš„èµ„æºã€æˆ–æ•´é¡µã€Œä¿å­˜ã€æ—¶ï¼Œç”¨ `this.data.resources` ç»„è£… step4 payloadï¼ˆresources æ•°ç»„ï¼‰ï¼Œè°ƒç”¨ `POST /api/card-entry/save-step/4`ã€‚åŒæ ·éœ€å¤„ç† target_user_idï¼ˆå½“å‰ç”¨æˆ·ï¼‰ä¸åç«¯çº¦å®šã€‚

---

### 5. Step5ï¼ˆç¤¾å›¢/æ ¡å‹ä¼šå‚ä¸ï¼‰

| æ•°æ®é¡¹ | card-entry (v1) | card-entry-v2 | card-entry-v3 | è¯´æ˜ |
|--------|-----------------|---------------|---------------|------|
| orgs / association_orgs | - | âœ… | âœ… associationOrgs | å·²ç”¨ |
| willing_to_serve, board_position, association_positions, support_offerings | âœ… | âœ… | âœ… | å·²åˆå¹¶ |
| contribution_types, contribution_description, association_needs_detail | âœ… | âœ… | âœ… | å·²åˆå¹¶ |
| **desired_position** | âœ… å¸Œæœ›æ‹…ä»»çš„èŒåŠ¡ï¼ˆæ–‡æœ¬ï¼‰ | - | âœ… v3 ç¬¬ 2 æ­¥å·²æ–°å¢è¾“å…¥å¹¶éš save-step/5 æäº¤ | å¯¹åº” user_association_info.desired_position |
| **position_preferences** | âœ… èŒåŠ¡åå¥½è¯´æ˜ | - | âœ… v3 ç¬¬ 2 æ­¥å·²æ–°å¢è¾“å…¥å¹¶éš save-step/5 æäº¤ | å¯¹åº” user_association_info.position_preferences |

**åˆå¹¶å»ºè®®ï¼š**

- ï¼ˆå·²å®ç°ï¼‰åœ¨ç¬¬ 2 æ­¥ã€Œç¤¾å›¢/æ ¡å‹ä¼šå‚ä¸ã€å¡ç‰‡ä¸­ï¼Œåœ¨ã€Œæ ¡è‘£ä¼šèŒåŠ¡ã€ã€Œæ ¡å‹ä¼šèŒåŠ¡ã€é™„è¿‘å¢åŠ ä¸¤é¡¹ï¼š
  - **æ„¿æ„/å¸Œæœ›æ‹…ä»»çš„èŒåŠ¡**ï¼ˆå¯¹åº” desired_positionï¼Œå¯å•è¡Œè¾“å…¥æˆ–ç®€çŸ­å¤šè¡Œï¼‰
  - **èŒåŠ¡åå¥½è¯´æ˜**ï¼ˆå¯¹åº” position_preferencesï¼Œå¯å¤šè¡Œï¼‰
- ï¼ˆå·²å®ç°ï¼‰åœ¨ `saveStepToServer(2)` çš„ step5 payload ä¸­å¢åŠ ï¼š`desired_position: this.data.xxx`, `position_preferences: this.data.xxx`ï¼ˆå·²åœ¨ v3 ä¸­åŠ å…¥ data / loadData / ä¿å­˜é€»è¾‘ï¼‰ã€‚

---

### 6. Step6ï¼ˆè¡¥å……/éšè—ä¿¡æ¯ï¼‰

| æ•°æ®é¡¹ | card-entry (v1) | card-entry-v2 | card-entry-v3 | è¯´æ˜ |
|--------|-----------------|---------------|---------------|------|
| hidden_infoï¼ˆå¦‚ descriptionï¼‰ | âœ… | step6.raw | âœ… extraInfo æœ‰ UI | v3 æœªè°ƒ save-step/6 |

**åˆå¹¶å»ºè®®ï¼š**

- åœ¨ã€Œè¡¥å……ä¿¡æ¯ã€æˆ–é¡µé¢åº•éƒ¨ä¿ç•™/å¢åŠ ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œç»‘å®š `extraInfo`ï¼Œåœ¨ä¿å­˜æ—¶ç»„è£… `{ hidden_info: { description: this.data.extraInfo }, field_visibility: {} }`ï¼Œè°ƒç”¨ `POST /api/card-entry/save-step/6`ã€‚è‹¥ v3 æ— å•ç‹¬ã€Œè¡¥å……ä¿¡æ¯ã€å…¥å£ï¼Œå¯æ”¾åœ¨ç¬¬ 1 æ­¥åº•éƒ¨æˆ–ç¬¬ 2 æ­¥åº•éƒ¨ä¸€ä¸ªå¯æŠ˜å åŒºå—ã€‚

---

## ä¸‰ã€ä¿å­˜æµç¨‹ä¸æ¥å£è°ƒç”¨æ±‡æ€»

| æ­¥éª¤ | v1 | v3 å½“å‰ | å»ºè®® |
|------|----|--------|------|
| Step1 | ä¿å­˜æ—¶æäº¤ name, nickname, avatar, selected_avatar, locations, field_visibility, personal_photos, ... | v3 å·²æäº¤ field_visibility / selected_avatar / personal_photosï¼Œlocations ä»ä»… main_address | åç»­å¯è¡¥ locations å¤šåœ°å€å†™å…¥é€»è¾‘ |
| Step2 | ä¿å­˜æ—¶æäº¤ step2 å…¨é‡å­—æ®µ | æœªè°ƒç”¨ save-step/2 | åœ¨ä¿å­˜æˆ–åˆ‡æ¢æ­¥éª¤æ—¶æ ¹æ® eduExperiences ç»„ payload è°ƒ save-step/2 |
| Step3 | ä¿å­˜æ—¶æäº¤ step3 å…¨é‡å­—æ®µ | æœªè°ƒç”¨ save-step/3 | åœ¨ä¿å­˜æ—¶æäº¤ step3 |
| Step4 | ä¿å­˜æ—¶æäº¤ step4.resources | æœªè°ƒç”¨ save-step/4 | åœ¨ä¿å­˜æ—¶æäº¤ step4 |
| Step5 | ä¿å­˜æ—¶æäº¤ step5 å« desired_position, position_preferences | å·²è°ƒ save-step/5ï¼Œä½†ç¼ºå°‘ä¸Šè¿°ä¸¤å­—æ®µ | payload ä¸­å¢åŠ  desired_positionã€position_preferences |
| Step6 | ä¿å­˜æ—¶æäº¤ step6.hidden_info | æœªè°ƒç”¨ save-step/6 | åœ¨ä¿å­˜æ—¶æäº¤ step6 |

---

## å››ã€åç«¯ä¸ v3 çš„çº¦å®šæ³¨æ„ç‚¹

1. **target_user_id**ï¼šv3 å½“å‰ä¿å­˜ step1 æœªå¸¦ `target_user_id`ï¼Œåç«¯è‹¥è¦æ±‚ã€Œä¿®æ”¹ä»–äººã€å¿…é¡»å¸¦ target_user_idï¼Œåˆ™ step1 åœ¨æ™®é€šç”¨æˆ·å¡«è‡ªå·±æ—¶å¯èƒ½ç”¨ token ä¸­çš„ç”¨æˆ· idï¼›step2â€“6 çš„ save-step æ¥å£æ–‡æ¡£å†™çš„æ˜¯ã€Œéœ€è¦ target_user_idã€ï¼Œå› æ­¤è‹¥ v3 æ˜¯ã€Œå½“å‰ç”¨æˆ·å¡«è‡ªå·±ã€ï¼Œéœ€ç¡®è®¤åç«¯æ˜¯å¦æ”¯æŒã€Œæ—  target_user_id å³å½“å‰ç™»å½•ç”¨æˆ·ã€æˆ–éœ€åœ¨ URL ä¸­æ˜¾å¼ä¼ å½“å‰ç”¨æˆ· idã€‚
2. **step1 çš„ locations æ›´æ–°**ï¼šå½“å‰åç«¯ä»…åœ¨ create_new æ—¶è°ƒç”¨ `_save_locations`ï¼Œæ™®é€šæ›´æ–°æœªå†™ locationsã€‚è‹¥è¦åœ¨ v3 ä¸­æ”¯æŒå¤šåœ°å€å¹¶è½åº“ï¼Œéœ€åç«¯åœ¨ save_step_1 çš„ã€Œæ›´æ–°ã€åˆ†æ”¯ä¸­ä¹Ÿæ ¹æ® body.locations è°ƒç”¨ `_save_locations`ã€‚
3. **association_title**ï¼šv3 ç”¨äºã€Œåç‰‡é¢„è§ˆã€çš„ã€Œç¤¾ä¼šå›¢ä½“ã€è¡Œï¼›åç«¯ step1 æœªè¿”å› association_titleï¼Œè‹¥éœ€æŒä¹…åŒ–ï¼Œéœ€åç«¯åœ¨ user_cards æˆ–å…³è”è¡¨å¢åŠ å­—æ®µå¹¶åœ¨ /data ä¸­è¿”å›ï¼Œæˆ–ç”±å‰ç«¯ç”¨ step5 çš„ orgs + association_positions æ‹¼å‡ºå±•ç¤ºæ–‡æ¡ˆï¼ˆä»…å±•ç¤ºä¸è½åº“ï¼‰ã€‚

---

## äº”ã€å»ºè®®å®æ–½é¡ºåºï¼ˆä¸æ”¹ä»£ç ï¼Œä»…æ–¹æ¡ˆï¼‰

1. **å…ˆè¡¥å…¨ä¿å­˜é“¾è·¯**ï¼šstep3ã€step4ã€step6 çš„ä¿å­˜è°ƒç”¨ä¸ payloadï¼›step5 è¡¥ desired_positionã€position_preferencesï¼›step1 è¡¥ field_visibilityã€selected_avatarï¼ˆåŠå¯é€‰ locationsã€personal_photosï¼‰ã€‚
2. **å†è¡¥æ•°æ®å›æ˜¾ä¸ç»“æ„**ï¼šstep2 ä¸ eduExperiences çš„åŒå‘æ˜ å°„ï¼›step1 çš„ locations ä¸ contactItems çš„äº’è½¬ï¼›step6 çš„ extraInfo ä¸ hidden_info çš„åŒæ­¥ã€‚
3. **æœ€åè¡¥ UI ä¸äº¤äº’**ï¼šstep5 ä¸¤ä¸ªæ–°è¾“å…¥é¡¹ï¼›å¯é€‰çš„å¤šåœ°å€ä¸ä¸ªäººç›¸å†Œ UIï¼›è¡¥å……ä¿¡æ¯å…¥å£ä¸ä¿å­˜æ—¶æœºã€‚

ä»¥ä¸Šä¸ºã€Œåªå‡ºæ–¹æ¡ˆã€ä¸æ”¹ä»£ç ã€çš„æ’æŸ¥ä¸åˆå¹¶å»ºè®®ï¼Œå®æ–½æ—¶æŒ‰éœ€åˆ†é˜¶æ®µæ”¹ v3 çš„ wxml/js ä¸åç«¯ save-step é€»è¾‘å³å¯ã€‚

---

## å…­ã€2026-01-29 äº¤äº’ç»†åŒ–æ–¹æ¡ˆï¼ˆè¡¥å……ï¼‰

### 6.1 æ•™è‚²ç»å†ä¹å®«æ ¼å…¥å£

- **è§¦å‘æ–¹å¼**ï¼šç‚¹å‡»ç¬¬ 1 æ­¥ä¸­ã€æ•™è‚²ç»å†ã€‘å¡ç‰‡å³ä¸Šè§’çš„ã€+ æ·»åŠ ã€‘æŒ‰é’®ã€‚  
- **ç¬¬ä¸€å±‚åŠå±**ï¼šå…ˆå¼¹å‡ºä¸€ä¸ªä¹å®«æ ¼é€‰æ‹©å­¦å†å±‚çº§ï¼Œæ¯ä¸ªä¸ºã€Œicon + æ–‡æœ¬ã€ï¼š  
  - ğŸ« å°å­¦  
  - ğŸ’ åˆä¸­  
  - ğŸ« é«˜ä¸­  
  - ğŸ“ å¤§å­¦æœ¬ç§‘  
  - ğŸ“ ç¡•å£«  
  - ğŸ“ åšå£«  
- **ç¬¬äºŒå±‚åŠå±**ï¼šé€‰ä¸­ä¸Šè¿°ä»»ä¸€é¡¹åï¼Œå†å¼¹å‡ºå½“å‰å·²æœ‰çš„ã€Œæ·»åŠ æ•™è‚²ç»å†ã€åŠå±ï¼ˆå­¦æ ¡åã€ä¸“ä¸šã€èµ·æ­¢æ—¶é—´ç­‰ï¼‰ã€‚  
- **ä¸ step2 æ˜ å°„å…³ç³»ï¼ˆä»…æ–¹æ¡ˆï¼‰**ï¼š  
  - å°å­¦ â†’ `primary_school` / `primary_graduation_year`  
  - åˆä¸­ â†’ `middle_school` / `middle_graduation_year`  
  - é«˜ä¸­ â†’ `high_school` / `high_graduation_year`  
  - å¤§å­¦æœ¬ç§‘ â†’ `bachelor_university` / `bachelor_major` / `bachelor_graduation_year`  
  - ç¡•å£« â†’ `master_university` / `master_major` / `master_graduation_year`  
  - åšå£« â†’ `doctor_university` / `doctor_major` / `doctor_graduation_year`  

### 6.2 desired_position / position_preferences å«ä¹‰ä¸åœ¨ v3 ä¸­çš„ä½ç½®

- **åç«¯å®šä¹‰ï¼ˆæ¥è‡ª `backend/xiehuaiyao.md`ï¼‰**ï¼š  
  - `desired_position`ï¼šå¸Œæœ›æ‹…ä»»çš„èŒåŠ¡ï¼ˆå¦‚ã€Œä¼šé•¿æˆ–ç§˜ä¹¦é•¿ â€“ æŠ€æœ¯é¡¾é—® / å‰¯ä¼šé•¿ / ç§˜ä¹¦é•¿ã€ï¼‰ã€‚  
  - `position_preferences`ï¼šèŒåŠ¡åå¥½å’Œè¯´æ˜ï¼ˆå¦‚ã€Œå¸Œæœ›èƒ½åœ¨ç§‘æŠ€å§”å‘˜ä¼šä»»èŒã€ï¼‰ã€‚  
- **ä¸ v3 ç¬¬ 2 æ­¥çš„å…³ç³»**ï¼š  
  - ç°æœ‰æšä¸¾ï¼š  
    - ã€Œæ„¿æ„/å¸Œæœ›æ‹…ä»»æ ¡è‘£ä¼šèŒåŠ¡ã€â†’ `board_position`ï¼ˆå•é€‰ã€å«æèµ æ¡£ä½ï¼‰ã€‚  
    - ã€Œæ„¿æ„/å¸Œæœ›æ‹…ä»»æ ¡å‹ä¼šèŒåŠ¡ã€â†’ `association_positions`ï¼ˆå¤šé€‰å…·ä½“èŒåŠ¡ï¼‰ã€‚  
  - **æ–¹æ¡ˆçº¦å®š**ï¼š  
    - åœ¨ã€Œæ ¡è‘£ä¼šèŒåŠ¡ã€ã€Œæ ¡å‹ä¼šèŒåŠ¡ã€ä¸‹æ–¹æ–°å¢ä¸¤ä¸ªæ–‡æœ¬è¾“å…¥ï¼š  
      - ã€ŒæœŸæœ›æ‹…ä»»çš„èŒåŠ¡ï¼ˆæ•´ä½“ï¼‰ã€â†’ æ˜ å°„åˆ° `desired_position`ã€‚  
      - ã€ŒèŒåŠ¡åå¥½å’Œè¯´æ˜ã€â†’ æ˜ å°„åˆ° `position_preferences`ã€‚  
    - ä¸æŠŠè¿™ä¸¤ä¸ªå­—æ®µç›´æ¥ç»‘å®šåˆ°ç°æœ‰æšä¸¾å­—æ®µï¼Œé¿å…è¯­ä¹‰æ··æ·†ã€‚

### 6.3 field_visibility çš„èŒƒå›´ç¡®è®¤

- å½“å‰ v3 å·²åœ¨å„å¡ç‰‡å­é¡¹å³ä¾§æä¾›ã€Œéšç§çŠ¶æ€å›¾æ ‡ã€ä¸åŠå±è®¾ç½®ï¼ˆå…¬å¼€ / ç§å¯† / æ‰“ç  / æ ¡å‹ / å¥½å‹ï¼‰ã€‚  
- **æ–¹æ¡ˆç¡®è®¤**ï¼šè¿™äº›å°±æ˜¯éœ€è¦è½åº“çš„ `field_visibility` æ•°æ®ç»“æ„ï¼Œåç»­åœ¨ä¿å­˜ step1ï¼ˆä»¥åŠéœ€è¦æ—¶çš„å…¶ä»–æ­¥éª¤ï¼‰æ—¶ï¼Œå°†å½“å‰å‰ç«¯ç»´æŠ¤çš„å¯è§æ€§ map ä¸€å¹¶æäº¤ç»™åç«¯å³å¯ã€‚

### 6.4 selected_avatar å¯¹åº”å…³ç³»

- ç¬¬ 1 æ­¥ä¸­çš„ã€å¤´åƒã€‘ï¼š  
  - è‹¥ç”¨æˆ·é€‰æ‹©é¢„è®¾å¤´åƒï¼š  
    - `avatar`ï¼šç”¨äºå‰ç«¯æ˜¾ç¤ºã€‚  
    - `selected_avatar`ï¼šä¸åç«¯å­—æ®µå¯¹åº”ï¼Œç”¨äºæ ‡è¯†ã€Œé€‰æ‹©äº†å“ªä¸€å¼ é¢„è®¾å¤´åƒã€ã€‚  
  - è‹¥ç”¨æˆ·ä½¿ç”¨å¾®ä¿¡å¤´åƒï¼š  
    - `avatar` ä¸ºå¾®ä¿¡å¤´åƒ URLï¼Œ`selected_avatar` ä¸ºç©ºã€‚  
- ä¿å­˜ step1 æ—¶ï¼Œæ–¹æ¡ˆä¸Šéœ€åŒæ—¶å¸¦ä¸Š `selected_avatar` å­—æ®µï¼ˆè‹¥æœ‰ï¼‰ã€‚

### 6.5 locations ä¸åœ°å€ç±»å‹

- **æ–‡æ¡ˆè°ƒæ•´**ï¼š  
  - ã€Œè”ç³»æ–¹å¼ã€å¡ç‰‡ä¸‹åŸæœ‰çš„ã€åœ°å€ã€‘è¡Œï¼Œæ”¹åä¸ºã€å…¬å¸åœ°å€ã€‘ï¼ˆé»˜è®¤ `location_type = work`ï¼‰ã€‚  
- **åœ°å€ç±»å‹ä¹å®«æ ¼ï¼ˆåŠå±ï¼‰**ï¼š  
  - ç‚¹å‡»ã€Œè”ç³»æ–¹å¼ã€å¡ç‰‡å³ä¸Šè§’ã€+ æ·»åŠ ã€‘æŒ‰é’®æ—¶ï¼ŒåŠå±ä¹å®«æ ¼ä¸­å…³äºåœ°å€çš„éƒ¨åˆ†æ‰©å±•ä¸ºï¼š  
    - ğŸ  å±…ä½åœ°å€ â†’ `location_type = residence`  
    - ğŸ¢ å…¬å¸åœ°å€ â†’ `location_type = work`  
    - ğŸ“ ä¸´æ—¶æ´»åŠ¨åœ°å€ â†’ `location_type = temp_event`  
    - ğŸ“Œ å…¶å®ƒåœ°å€ â†’ `location_type = other`  
  - é€‰æ‹©ä»»ä¸€é¡¹åï¼Œç”Ÿæˆä¸€æ¡å¯¹åº”ç±»å‹çš„åœ°å€ contactItemï¼Œå¹¶åœ¨åç»­ä¿å­˜æ—¶ç»Ÿä¸€æ˜ å°„ä¸º user_locations è®°å½•ã€‚  
- **å…¬å¸åœ°å€å³ä¾§ã€+ã€‘äº¤äº’**ï¼š  
  - ç‚¹å‡»ç¬¬ 1 æ¡ã€å…¬å¸åœ°å€ã€‘å³ä¾§çš„ã€+ã€‘æ—¶ï¼Œç›´æ¥å¼¹å‡ºåŒä¸€ä¸ªã€Œåœ°å€ç±»å‹ä¹å®«æ ¼ã€åŠå±ï¼Œæ–¹ä¾¿å¿«é€Ÿå†æ·»åŠ ã€Œå±…ä½åœ°å€ / ä¸´æ—¶æ´»åŠ¨åœ°å€ / å…¶å®ƒåœ°å€ã€ã€‚  
- **ä¸´æ—¶æ´»åŠ¨åœ°å€ & è¿‡æœŸé€»è¾‘ï¼ˆä»…æ–¹æ¡ˆï¼‰**ï¼š  
  - å½“ç”¨æˆ·æ‰“å¼€å°ç¨‹åºæˆ–æ˜¾å¼ç‚¹å‡»ã€Œæ›´æ–°å½“å‰ä½ç½®ã€æ—¶ï¼Œè®°å½•å½“å‰ä½ç½®ä¸ºä¸€æ¡ `location_type = 'temp_event'` çš„åœ°å€ï¼Œå¹¶é™„å¸¦ `expires_at = now + 3 å¤©`ï¼ˆè¿‡æœŸæ—¶é—´å¯é…ç½®ï¼‰ã€‚  
  - å±•ç¤ºæˆ–æŸ¥è¯¢æ—¶ï¼Œä»…ä½¿ç”¨å½“å‰æ—¶é—´ < `expires_at` çš„ä¸´æ—¶åœ°å€ï¼›è¿‡æœŸçš„ç”±åç«¯å®šæœŸæ¸…ç†æˆ–åœ¨æŸ¥è¯¢ SQL ä¸­æ’é™¤ã€‚

### 6.6 personal_photos ä¸ã€ç›¸ç‰‡ã€‘å­—æ®µ

- ç›®æ ‡ï¼šå°†ç¬¬ 1 æ­¥ä¸­çš„ã€ç›¸ç‰‡ã€‘ç”±ã€Œå•å¼ å›¾ç‰‡ã€å‡çº§ä¸ºã€Œå¤šå¼ å›¾ç‰‡ã€åˆ—è¡¨ï¼Œå¹¶ä¸åç«¯çš„ `personal_photos` æ•°ç»„ç›´æ¥å¯¹åº”ã€‚  
- **UI æ–¹æ¡ˆ**ï¼š  
  - åœ¨ã€Œä¸ªäººä»‹ç»/åŸºç¡€ä¿¡æ¯ã€åŒºåŸŸï¼Œä½¿ç”¨æ¨ªå‘æ»šåŠ¨åˆ—è¡¨ï¼š  
    - ç¬¬ä¸€ä¸ªæ ¼å­ä¸ºã€Œ+ æ·»åŠ ç›¸ç‰‡ã€å ä½ï¼›  
    - å…¶åä¸ºå·²é€‰æ‹©çš„å¤šå¼ ç›¸ç‰‡ç¼©ç•¥å›¾ï¼Œå¯ç‚¹å‡»å¤§å›¾é¢„è§ˆæˆ–åˆ é™¤ã€‚  
- **æ•°æ®çº¦å®š**ï¼š  
  - `personal_photos[0]`ï¼šä½œä¸ºåç‰‡é¢„è§ˆå’Œä¸ªäººä»‹ç»å¡çš„ä¸»å±•ç¤ºå›¾ç‰‡ã€‚  
  - åç»­å…ƒç´ å¯ç”¨äºç”Ÿæ—¥å¡ç‰‡ã€ä¸ªäººç›¸å†Œç­‰æ‰©å±•åœºæ™¯ã€‚  
- **æ•°æ®æµ**ï¼š  
  - load æ—¶ï¼šä» `step1.personal_photos` åˆå§‹åŒ–ç›¸ç‰‡åˆ—è¡¨ï¼ˆä¸ºç©ºåˆ™ç»™ä¸€ä¸ªæ·»åŠ å ä½ï¼‰ã€‚  
  - ä¿å­˜ step1 æ—¶ï¼šå°†å½“å‰åˆ—è¡¨å®Œæ•´å†™å› `personal_photos` å­—æ®µï¼ˆä¿æŒä¸ v1 å…¼å®¹ï¼‰ã€‚

