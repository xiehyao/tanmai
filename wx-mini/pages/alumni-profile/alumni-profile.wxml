<!--pages/alumni-profile/alumni-profile.wxml-->
<view class="profile-page" wx:if="{{user}}">
  <scroll-view scroll-y class="profile-scroll">
    <!-- åç‰‡å¡ -->
    <view class="section">
      <view class="section-title">æˆ‘çš„åç‰‡</view>
      <view class="card-card my-card-style">
        <view class="my-card-main">
          <image
            class="avatar"
            src="{{user.display_avatar || user.avatar || user.selected_avatar || 'https://tanmai-1318644773.cos.ap-guangzhou.myqcloud.com/avatars/male-young-1.png'}}"
            mode="aspectFill"
          />
          <view class="my-card-info">
            <text class="my-name">{{user.name || user.nickname || 'æœªè®¾ç½®'}}</text>
            <text class="my-line company">{{(user.company || '') + ' ' + (user.title || '')}}</text>
          </view>
        </view>
        <view class="my-card-extra">
          <text class="my-line">{{user.phone ? (user.phone) : ''}}</text>
          <text class="my-line">{{user.email || ''}}</text>
          <text class="my-line address">{{user.address || ''}}</text>
        </view>
      </view>
    </view>

    <!-- æ ¡å‹ç®€ä»‹å¡ -->
    <view class="section">
      <view class="section-title">æˆ‘çš„ç®€ä»‹</view>
      <view class="card-card intro-card-style">
        <view class="intro-info-item" wx:if="{{displayName}}">
          <text class="intro-label">å§“å</text>
          <text class="intro-value">{{displayName}}</text>
        </view>
        <view class="intro-photos" wx:if="{{displayPhotos && displayPhotos.length > 0}}">
          <image
            wx:for="{{displayPhotos}}"
            wx:key="*this"
            class="intro-photo"
            src="{{item}}"
            mode="aspectFill"
          />
        </view>
        <view class="intro-info-item" wx:if="{{displayConstellation}}">
          <text class="intro-label">æ˜Ÿåº§</text>
          <text class="intro-value">{{displayConstellation}}</text>
        </view>
        <view class="intro-info-item" wx:if="{{displayMiddleSchool}}">
          <text class="intro-label">ä¸­å­¦</text>
          <text class="intro-value">{{displayMiddleSchool}}</text>
        </view>
        <view class="intro-info-item" wx:if="{{displayUniversity}}">
          <text class="intro-label">å¤§å­¦</text>
          <text class="intro-value">{{displayUniversity}}</text>
        </view>
        <view class="intro-info-item" wx:if="{{displayCompanyTitle}}">
          <text class="intro-label">å…¬å¸åŠèŒä½</text>
          <text class="intro-value">{{displayCompanyTitle}}</text>
        </view>
        <view class="intro-info-item" wx:if="{{displaySocialPositions}}">
          <text class="intro-label">ç¤¾ä¼šèŒä½</text>
          <text class="intro-value">{{displaySocialPositions}}</text>
        </view>
        <view class="intro-info-item" wx:if="{{displayInterests}}">
          <text class="intro-label">å…´è¶£çˆ±å¥½</text>
          <text class="intro-value">{{displayInterests}}</text>
        </view>
        <view class="intro-info-item" wx:if="{{displayAssociationNeeds}}">
          <text class="intro-label">å¯¹æ ¡å‹ä¼šçš„éœ€æ±‚</text>
          <text class="intro-value">{{displayAssociationNeeds}}</text>
        </view>
        <view class="intro-info-item" wx:if="{{displayContact}}">
          <text class="intro-label">è”ç³»æ–¹å¼</text>
          <text class="intro-value">{{displayContact}}</text>
        </view>
        <view class="intro-bio" wx:if="{{user.bio}}">
          <text class="intro-text">{{user.bio}}</text>
        </view>
        <view class="intro-bio intro-bio-empty" wx:elif="{{!displayName && (!displayPhotos || !displayPhotos.length) && !displayConstellation && !displayMiddleSchool && !displayUniversity && !displayCompanyTitle && !displaySocialPositions && !displayInterests && !displayAssociationNeeds && !displayContact && !user.bio}}">
          <text class="intro-text">æš‚æ— ç®€ä»‹</text>
        </view>
      </view>
    </view>

    <!-- æ ¡å‹è¿è¿çœ‹ï¼ˆæˆ‘ä¸è¯¥æ ¡å‹çš„ AI åŒ¹é…ï¼‰ -->
    <view class="section">
      <view class="section-title">æ ¡å‹è¿è¿çœ‹</view>
      <view class="card-card match-card-style">
        <text class="match-text">{{matchContent}}</text>
      </view>
    </view>

    <view class="scroll-bottom-pad"></view>
  </scroll-view>

  <!-- å›ºå®šç½®åº• bar -->
  <view class="fixed-bottom-bar">
    <view class="bar-left-group">
      <view class="bar-left">
        <image
          class="bar-avatar"
          src="{{user.display_avatar || user.avatar || user.selected_avatar || 'https://tanmai-1318644773.cos.ap-guangzhou.myqcloud.com/avatars/male-young-1.png'}}"
          mode="aspectFill"
        />
        <view class="bar-info">
          <text class="bar-name">{{user.name || user.nickname || 'æ ¡å‹'}}</text>
          <text class="bar-follow">10ä¸ªæœ‹å‹å…³æ³¨</text>
        </view>
      </view>
      <view class="bar-follow-btn" bindtap="onFollowTap">+å…³æ³¨</view>
    </view>
    <view class="bar-icons">
      <view class="bar-icon-item">
        <text class="bar-icon">ğŸ‘</text>
        <text class="bar-num">42</text>
      </view>
      <view class="bar-icon-item">
        <text class="bar-icon">â†—</text>
        <text class="bar-num">42</text>
      </view>
      <view class="bar-icon-item">
        <text class="bar-icon">â™¥</text>
        <text class="bar-num">42</text>
      </view>
      <view class="bar-icon-item">
        <text class="bar-icon">ğŸ’¬</text>
        <text class="bar-num">168</text>
      </view>
    </view>
  </view>
</view>
