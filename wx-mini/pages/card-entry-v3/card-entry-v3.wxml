<!-- pages/card-entry-v3/card-entry-v3.wxml -->
<!-- æ¨¡ä»¿ã€Œåç‰‡å…¨èƒ½ç‹ã€ç¼–è¾‘èµ„æ–™é¡µé¢ -->

<view class="v3-page">
  <!-- æ­¥éª¤æ¡ï¼šä»…å½“é…ç½®äº†æ ¡å‹ä¼š/å•†ä¼šæ—¶æ˜¾ç¤º -->
  <view class="v3-step-bar" wx:if="{{hasAlumniConfig}}">
    <view class="v3-step-item {{currentStep === 1 ? 'active' : ''}}" data-step="1" bindtap="goToStep">1. ä¸ªäººä¿¡æ¯</view>
    <view class="v3-step-item {{currentStep === 2 ? 'active' : ''}}" data-step="2" bindtap="goToStep">2. æ ¡å‹ä¼šå‚ä¸æ„æ„¿</view>
  </view>
  <scroll-view class="v3-content" scroll-y>
    <!-- 1. åç‰‡æ ·å¼ï¼ˆæš‚æ—¶ä¸ç”¨ï¼‰ -->
    <view class="section" wx:if="{{false}}">
      <view class="section-title">åç‰‡æ ·å¼</view>
      <view class="card-style-row" bindtap="onChangeCardBg">
        <view class="card-style-placeholder">
          <view class="card-style-lines"></view>
        </view>
        <text class="section-action">æ›´æ¢åç‰‡èƒŒæ™¯ ></text>
      </view>
    </view>

    <!-- 2. åŸºæœ¬ä¿¡æ¯ï¼ˆç¬¬1æ­¥ æˆ– æ— åˆ†æ­¥æ—¶æ˜¾ç¤ºï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1}}">
      <view class="section-header">
        <text class="section-title">{{hasAlumniConfig ? '1. åŸºæœ¬ä¿¡æ¯' : 'åŸºæœ¬ä¿¡æ¯'}}</text>
        <view class="add-btn" bindtap="onAddCompanyPosition">
          <text class="add-icon">+</text>
          <text>æ·»åŠ å¤šå…¬å¸ã€å¤šèŒä½</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">å§“å *</text>
        <input class="form-input" placeholder="è¯·è¾“å…¥å§“å" value="{{name}}" data-field="name" bindinput="onInputChange" bindblur="onFieldBlur" />
        <view class="visibility-cell" data-field="name" data-label="å§“å" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.name || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row form-row-photos">
        <text class="form-label">ç›¸ç‰‡</text>
        <scroll-view class="personal-photos-scroll" scroll-x>
          <view class="personal-photo-item personal-photo-add" bindtap="onPickPhoto">
            <text class="photo-add-text">+ æ·»åŠ </text>
          </view>
          <view class="personal-photo-item" wx:for="{{personal_photos}}" wx:key="index">
            <image class="personal-photo-img" src="{{item}}" mode="aspectFill" />
            <view class="personal-photo-del" data-index="{{index}}" catchtap="onRemovePersonalPhoto">Ã—</view>
          </view>
        </scroll-view>
        <view class="visibility-cell" data-field="photo" data-label="ç›¸ç‰‡" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.photo || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">å¾®ä¿¡æ˜µç§°</text>
        <input class="form-input" placeholder="å¯å¡«å†™å¸¸ç”¨ç§°å‘¼" value="{{nickname}}" data-field="nickname" bindinput="onInputChange" bindblur="onFieldBlur" />
        <view class="visibility-cell" data-field="nickname" data-label="å¾®ä¿¡æ˜µç§°" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.nickname || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">å¾®ä¿¡id</text>
        <input class="form-input" placeholder="é€‰å¡«ï¼Œç”¨äºæ ¡å‹åŠ å‹" value="{{wechatId}}" data-field="wechatId" bindinput="onInputChange" bindblur="onFieldBlur" />
        <view class="visibility-cell" data-field="wechatId" data-label="å¾®ä¿¡id" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.wechatId || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row" bindtap="onPickAvatar">
        <text class="form-label">å¤´åƒ</text>
        <image class="form-avatar" src="{{avatar || 'https://tanmai-1318644773.cos.ap-guangzhou.myqcloud.com/avatars/male-young-1.png'}}" mode="aspectFill" />
        <text class="form-arrow">></text>
        <view class="visibility-cell" data-field="avatar" data-label="å¤´åƒ" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.avatar || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">æ€§åˆ«</text>
        <picker class="form-picker" mode="selector" range="{{genderOptions}}" range-key="label" bindchange="onGenderChange">
          <view class="form-input">{{genderLabel}}</view>
        </picker>
        <text class="form-arrow">></text>
        <view class="visibility-cell" data-field="gender" data-label="æ€§åˆ«" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.gender || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">ç±è´¯</text>
        <input class="form-input" placeholder="å¦‚ï¼šç¦å»ºæ³‰å·æƒ å®‰" value="{{birthPlace}}" data-field="birthPlace" bindinput="onInputChange" bindblur="onFieldBlur" />
        <view class="visibility-cell" data-field="birthPlace" data-label="ç±è´¯" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.birthPlace || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">å…¬å¸ *</text>
        <input class="form-input" placeholder="è¯·è¾“å…¥å…¬å¸" value="{{company}}" data-field="company" bindinput="onInputChange" bindblur="onFieldBlur" />
        <text class="form-arrow">></text>
        <view class="visibility-cell" data-field="company" data-label="å…¬å¸" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.company || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">èŒä½ *</text>
        <input class="form-input" placeholder="è¯·è¾“å…¥èŒä½" value="{{title}}" data-field="title" bindinput="onInputChange" bindblur="onFieldBlur" />
        <view class="add-icon-sm" catchtap="onAddCompanyPosition">+</view>
        <view class="visibility-cell" data-field="title" data-label="èŒä½" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.title || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">ç¤¾ä¼šå›¢ä½“</text>
        <textarea class="form-input multi-line" placeholder="å¯å¤šè¡Œå¡«å†™å¤šä¸ªå¤´è¡”" value="{{association_title}}" data-field="association_title" bindinput="onInputChange" bindblur="onFieldBlur" />
        <view class="visibility-cell" data-field="association_title" data-label="ç¤¾ä¼šå›¢ä½“" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.association_title || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">è¡Œä¸š</text>
        <input class="form-input" placeholder="è¯·é€‰æ‹©è¡Œä¸š" value="{{industry}}" data-field="industry" bindinput="onInputChange" bindblur="onFieldBlur" />
        <text class="form-arrow">></text>
        <view class="visibility-cell" data-field="industry" data-label="è¡Œä¸š" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.industry || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <!-- è®¤è¯çŠ¶æ€ï¼ˆæš‚æ—¶ä¸ç”¨ï¼‰ -->
      <view class="form-row" wx:if="{{false}}">
        <text class="form-label">è®¤è¯çŠ¶æ€</text>
        <view class="form-badges">
          <text class="badge grey">åœ¨èŒ</text>
          <text class="badge teal">å·²å®å</text>
        </view>
        <text class="form-arrow">></text>
      </view>
    </view>

    <!-- 3. è”ç³»æ–¹å¼ï¼ˆç¬¬1æ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1}}">
      <view class="section-header">
        <text class="section-title">è”ç³»æ–¹å¼</text>
        <view class="add-btn" bindtap="openContactAddSheet">
          <text class="add-icon">+</text>
          <text>æ·»åŠ </text>
        </view>
      </view>
      <view class="form-row contact-row" wx:for="{{contactItems}}" wx:key="id">
        <text class="form-label">{{item.label}}{{item.required ? ' *' : ''}}</text>
        <input class="form-input" placeholder="è¯·å¡«å†™{{item.label}}" value="{{item.value}}" data-index="{{index}}" bindinput="onContactItemInput" bindblur="onFieldBlur" />
        <view class="contact-add-address" wx:if="{{item.type === 'address'}}" catchtap="onAddAddress">+</view>
        <view class="contact-remove" wx:if="{{!item.required}}" data-index="{{index}}" catchtap="onRemoveContact">âˆ’</view>
        <text class="form-arrow" wx:elif="{{item.type === 'wechat'}}">></text>
        <view class="visibility-cell" data-field="contact_{{index}}" data-label="{{item.label}}" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{contactVisibilityIcons[index] || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
    </view>

    <!-- 4. åç‰‡é¢„è§ˆï¼ˆç¬¬1æ­¥ï¼‰ï¼šæœªå¡«ä¸ºç°åº•å ä½ï¼Œå·²å¡«æ­£å¸¸è‰²ï¼›ä¸å±•ç¤ºç§å¯†å­—æ®µï¼›ç¤¾ä¼šå›¢ä½“/å¾®ä¿¡id/å¤šåœ°å€ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1}}">
      <view class="section-title">åç‰‡é¢„è§ˆ</view>
      <view class="card-preview-block">
        <view class="card-preview-row">
          <image wx:if="{{fieldVisibility.avatar !== 'private'}}" class="card-preview-avatar {{!avatar ? 'card-preview-placeholder' : ''}}" src="{{avatar || 'https://tanmai-1318644773.cos.ap-guangzhou.myqcloud.com/avatars/male-young-1.png'}}" mode="aspectFill" />
          <view wx:else class="card-preview-avatar card-preview-placeholder"><text class="card-preview-placeholder-text">å¤´åƒ</text></view>
          <view class="card-preview-main">
            <text class="card-preview-name {{!name ? 'card-preview-placeholder' : ''}}" wx:if="{{fieldVisibility.name !== 'private'}}">{{name || 'å§“å'}}</text>
            <text class="card-preview-company {{!company && !title ? 'card-preview-placeholder' : ''}}" wx:if="{{fieldVisibility.company !== 'private' || fieldVisibility.title !== 'private'}}">{{company && title ? company + ' ' + title : (company || title || 'å…¬å¸ Â· èŒä½')}}</text>
            <text class="card-preview-company {{!association_title ? 'card-preview-placeholder' : ''}}" wx:if="{{fieldVisibility.association_title !== 'private'}}">{{association_title || 'ç¤¾ä¼šå›¢ä½“'}}</text>
            <text class="card-preview-meta {{!wechatId ? 'card-preview-placeholder' : ''}}" wx:if="{{fieldVisibility.wechatId !== 'private'}}">{{wechatId || 'å¾®ä¿¡id'}}</text>
            <text class="card-preview-meta {{!previewPhoneValue ? 'card-preview-placeholder' : ''}}" wx:if="{{previewPhoneVisible}}">{{previewPhoneValue || 'æ‰‹æœº'}}</text>
            <text class="card-preview-meta {{!previewEmailValue ? 'card-preview-placeholder' : ''}}" wx:if="{{previewEmailVisible}}">{{previewEmailValue || 'é‚®ç®±'}}</text>
            <text class="card-preview-meta" wx:for="{{previewAddressListVisible}}" wx:key="*this">{{item}}</text>
            <text class="card-preview-meta card-preview-placeholder" wx:if="{{showAddressPlaceholder}}">åœ°å€</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 13. ç¤¾å›¢ / æ ¡å‹ä¼šå‚ä¸ï¼ˆç¬¬2æ­¥ æˆ– æ— åˆ†æ­¥æ—¶æ˜¾ç¤ºï¼ŒDOM ç½®äºä¸ªäººä»‹ç»å‰ä»¥å®ç°ç¬¬2æ­¥é¡ºåºï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 2}}">
      <view class="section-title">ç¤¾å›¢ / æ ¡å‹ä¼šå‚ä¸</view>
      <view class="form-row">
        <text class="form-label">ç»„ç»‡</text>
        <input class="form-input" placeholder="å¦‚ï¼šæƒ å®‰ä¸€ä¸­å¤§æ¹¾åŒºæ ¡å‹ä¼š" value="{{associationOrgs}}" data-field="associationOrgs" bindinput="onInputChange" />
        <view class="visibility-cell" data-field="associationOrgs" data-label="ç»„ç»‡" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.associationOrgs || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <!-- å­éƒ¨åˆ†ï¼šå¯¹æ ¡å‹ä¼šéœ€æ±‚ -->
      <view class="subsection-title">å¯¹æ ¡å‹ä¼šéœ€æ±‚</view>
      <view class="form-row form-row-needs">
        <text class="form-label">éœ€æ±‚è°ƒç ”</text>
        <view class="needs-groups">
          <view class="needs-group" wx:for="{{associationNeedsGroups}}" wx:key="title">
            <view class="needs-group-title">{{item.title}}</view>
            <view class="checkbox-wrap">
              <view class="checkbox-item" wx:for="{{item.options}}" wx:for-item="opt" wx:key="value">
                <checkbox value="{{opt.value}}" checked="{{opt.checked}}" bindtap="onAssociationNeedTap" data-value="{{opt.value}}" />
                <text>{{opt.label}}</text>
              </view>
            </view>
          </view>
        </view>
        <view class="visibility-cell" data-field="associationNeeds" data-label="éœ€æ±‚è°ƒç ”" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.associationNeeds || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row" wx:if="{{associationNeedsOtherVisible}}">
        <text class="form-label">å…¶å®ƒéœ€æ±‚</text>
        <textarea class="form-input multi-line" placeholder="å…¶å®ƒè¯´æ˜" value="{{associationNeedsOther}}" data-field="associationNeedsOther" bindinput="onInputChange" />
        <view class="visibility-cell" data-field="associationNeedsOther" data-label="å…¶å®ƒéœ€æ±‚" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.associationNeedsOther || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <!-- å­éƒ¨åˆ†ï¼šä¸ºæ ¡å‹ä¼šæœåŠ¡æ„æ„¿ -->
      <view class="subsection-title">ä¸ºæ ¡å‹ä¼šæœåŠ¡æ„æ„¿</view>
      <view class="form-row">
        <text class="form-label">æ„¿æ„æœåŠ¡æ ¡å‹</text>
        <switch checked="{{associationWilling}}" data-field="associationWilling" bindchange="onSwitchChange" />
        <view class="visibility-cell" data-field="associationWilling" data-label="æ„¿æ„æœåŠ¡æ ¡å‹" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.associationWilling || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row" bindtap="openBoardPositionSheet">
        <text class="form-label">æ„¿æ„/å¸Œæœ›æ‹…ä»»æ ¡è‘£ä¼šèŒåŠ¡</text>
        <view class="form-input">{{boardPositionLabel}}</view>
        <text class="form-arrow">></text>
        <view class="visibility-cell" data-field="board_position" data-label="æ„¿æ„/å¸Œæœ›æ‹…ä»»æ ¡è‘£ä¼šèŒåŠ¡" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.board_position || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">æ„¿æ„/å¸Œæœ›æ‹…ä»»æ ¡å‹ä¼šèŒåŠ¡</text>
        <view class="checkbox-wrap">
          <view class="checkbox-item" wx:for="{{associationPositionOptions}}" wx:key="value">
            <checkbox value="{{item.value}}" checked="{{item.checked}}" bindtap="onAssociationPositionTap" data-value="{{item.value}}" />
            <text>{{item.label}}</text>
          </view>
        </view>
        <view class="visibility-cell" data-field="association_positions" data-label="æ„¿æ„/å¸Œæœ›æ‹…ä»»æ ¡å‹ä¼šèŒåŠ¡" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.association_positions || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">æœ€æœŸæœ›æ‹…ä»»çš„èŒåŠ¡ï¼ˆ3ä¸ªä»¥å†…ï¼‰</text>
        <input class="form-input" placeholder="å¦‚ï¼šä¼šé•¿ã€ç§˜ä¹¦é•¿ã€æŠ€æœ¯é¡¾é—®" value="{{desired_position}}" data-field="desired_position" bindinput="onInputChange" />
        <view class="visibility-cell" data-field="desired_position" data-label="æœŸæœ›æ‹…ä»»çš„èŒåŠ¡" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.desired_position || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">èŒåŠ¡åå¥½å’Œè¯´æ˜</text>
        <textarea class="form-input multi-line" placeholder="å¦‚ï¼šå¸Œæœ›èƒ½åœ¨ç§‘æŠ€å§”å‘˜ä¼šä»»èŒ" value="{{position_preferences}}" data-field="position_preferences" bindinput="onInputChange" />
        <view class="visibility-cell" data-field="position_preferences" data-label="èŒåŠ¡åå¥½å’Œè¯´æ˜" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.position_preferences || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">å¯æä¾›æ”¯æŒ</text>
        <view class="checkbox-wrap">
          <view class="checkbox-item" wx:for="{{supportTypeOptions}}" wx:key="value">
            <checkbox value="{{item.value}}" checked="{{item.checked}}" bindtap="onSupportTypeTap" data-value="{{item.value}}" />
            <text>{{item.label}}</text>
          </view>
        </view>
        <view class="visibility-cell" data-field="support_offerings" data-label="å¯æä¾›æ”¯æŒ" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.support_offerings || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">å¯æ‰¿æ‹…å·¥ä½œ</text>
        <input class="form-input" placeholder="å¦‚ å…·ä½“æ ¡å‹æ´»åŠ¨çš„ç­–åˆ’å’Œç»„ç»‡" value="{{contributionTypes}}" data-field="contributionTypes" bindinput="onInputChange" />
        <view class="visibility-cell" data-field="contributionTypes" data-label="å¯æ‰¿æ‹…å·¥ä½œ" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.contributionTypes || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">å…·ä½“æè¿°</text>
        <textarea class="form-input multi-line" placeholder="å¦‚ åœ¨å¤–ä¼å·¥ä½œï¼Œæ—¶é—´å®½è£•ï¼›å¸‚åœºè¥é”€ç­–åˆ’å²—ä½ï¼Œå¯ååŠ©æ ¡å‹æ´»åŠ¨çš„å…·ä½“ç­–åˆ’å’Œç»„ç»‡å·¥ä½œ" value="{{contributionDescription}}" data-field="contributionDescription" bindinput="onInputChange" />
        <view class="visibility-cell" data-field="contributionDescription" data-label="å…·ä½“æè¿°" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.contributionDescription || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
    </view>

    <!-- 5. ä¸ªäººä»‹ç»ï¼ˆç¬¬1æ­¥åŸä½ç½® + ç¬¬2æ­¥å‡å±•ç¤ºï¼Œæ•°æ®åŒæ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1 || currentStep === 2}}">
      <view class="section-header">
        <text class="section-title">ä¸ªäººä»‹ç»</text>
        <view class="add-btn" bindtap="openIntroSheet">
          <text class="add-icon">+</text>
          <text>æ·»åŠ </text>
        </view>
      </view>
      <scroll-view class="intro-cards-scroll" scroll-x>
        <view class="intro-card intro-card-with-visibility" wx:for="{{introCards}}" wx:key="index" data-index="{{index}}" bindtap="onEditIntroCard">
          <text class="intro-card-name">{{item.name || 'ç¤ºä¾‹å§“å'}}</text>
          <view class="intro-card-photo-wrap">
            <image class="intro-card-photo" src="{{item.photo || avatar || 'https://tanmai-1318644773.cos.ap-guangzhou.myqcloud.com/avatars/male-young-1.png'}}" mode="aspectFill" />
          </view>
          <text class="intro-card-desc">{{item.introText || 'ç®€ä»‹æ–‡å­—'}}</text>
          <text class="intro-card-scene" wx:if="{{item.scene}}">{{item.scene}}</text>
          <view class="visibility-cell visibility-cell-intro" data-field="intro_{{index}}" data-label="ä¸ªäººä»‹ç»-{{index + 1}}" catchtap="onVisibilityTap">
            <text class="visibility-icon">{{introVisibilityIcons[index] || 'ğŸ‘ï¸'}}</text>
          </view>
        </view>
        <view class="intro-card intro-card-add" bindtap="openIntroSheet">+</view>
      </scroll-view>
    </view>

    <!-- 6. åç‰‡é™„ä»¶ï¼ˆç¬¬1æ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1}}">
      <view class="section-title">åç‰‡é™„ä»¶</view>
      <view class="form-row form-row-add-link">
        <view class="add-link" bindtap="onAddPdf">+ æ·»åŠ  PDF æ–‡ä»¶</view>
        <view class="visibility-cell" data-field="card_attachment" data-label="åç‰‡é™„ä»¶" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.card_attachment || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <text class="section-hint">å¯æ·»åŠ å¯¹å¤–åˆä½œæ–¹æ¡ˆã€ä¸ªäººä½œå“ã€äº§å“ä»‹ç»ç­‰æ–‡æ¡£</text>
      <text class="section-hint">ä»…æ”¯æŒå•ä¸ªPDFä¸Šä¼ , æœ€å¤§10MB</text>
    </view>

    <!-- 7. ä¸šåŠ¡ä»‹ç»ï¼ˆç¬¬1æ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1}}">
      <view class="section-title">ä¸šåŠ¡ä»‹ç»</view>
      <view class="form-row form-row-add-link">
        <view class="add-link" bindtap="onAddBusinessIntro">+ æ·»åŠ å›¾æ–‡ä»‹ç»</view>
        <view class="visibility-cell" data-field="business_intro" data-label="ä¸šåŠ¡ä»‹ç»" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.business_intro || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <text class="section-hint">æ”¯æŒæ·»åŠ æ–‡å­—ã€å›¾ç‰‡ã€è§†é¢‘</text>
    </view>

    <!-- 8. ä¼ä¸šä»‹ç»ï¼ˆç¬¬1æ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1}}">
      <view class="section-title">ä¼ä¸šä»‹ç»</view>
      <view class="form-row form-row-add-link">
        <view class="add-link" bindtap="onAddCompanyIntro">+ æ·»åŠ ä¼ä¸šä»‹ç»</view>
        <view class="visibility-cell" data-field="company_intro" data-label="ä¼ä¸šä»‹ç»" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.company_intro || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <text class="section-hint">æ”¯æŒæ·»åŠ æ–‡å­—ã€å›¾ç‰‡ã€è§†é¢‘</text>
    </view>

    <!-- 11. å·¥ä½œç»å†ï¼ˆç¬¬1æ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1}}">
      <view class="section-header">
        <text class="section-title">å·¥ä½œç»å†</text>
        <view class="add-btn" bindtap="onAddWorkExperience">
          <text class="add-icon">+</text>
          <text>æ·»åŠ </text>
        </view>
      </view>
      <view class="experience-item" wx:for="{{workExperiences}}" wx:key="index" data-index="{{index}}" bindtap="onEditWork">
        <view class="exp-icon">ğŸ¢</view>
        <view class="exp-content">
          <text class="exp-primary">{{item.company || 'å…¬å¸åç§°'}}</text>
          <text class="exp-secondary">{{item.title || 'èŒä½'}}</text>
          <text class="exp-tertiary">{{item.duration || 'æ—¶é—´'}}</text>
        </view>
        <text class="form-arrow">></text>
        <view class="visibility-cell" data-field="work_{{index}}" data-label="å·¥ä½œç»å†-{{index + 1}}" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{workVisibilityIcons[index] || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
    </view>

    <!-- 12. æ•™è‚²ç»å†ï¼ˆç¬¬1æ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1}}">
      <view class="section-header">
        <text class="section-title">æ•™è‚²ç»å†</text>
        <view class="add-btn" bindtap="onAddEduExperience">
          <text class="add-icon">+</text>
          <text>æ·»åŠ </text>
        </view>
      </view>
      <view class="experience-item" wx:for="{{eduExperiences}}" wx:key="index" data-index="{{index}}" bindtap="onEditEdu">
        <view class="exp-icon">ğŸ“</view>
        <view class="exp-content">
          <text class="exp-primary">{{item.school || 'å­¦æ ¡åç§°'}}</text>
          <text class="exp-secondary">{{item.degree || ''}}{{item.major ? ' Â· ' + item.major : ''}}</text>
          <text class="exp-tertiary">{{item.duration || 'æ—¶é—´'}}</text>
        </view>
        <text class="form-arrow">></text>
        <view class="visibility-cell" data-field="edu_{{index}}" data-label="æ•™è‚²ç»å†-{{index + 1}}" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{eduVisibilityIcons[index] || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
    </view>

    <!-- 14. æˆ‘çš„éœ€æ±‚ï¼ˆç¬¬1æ­¥åŸä½ç½® + ç¬¬2æ­¥å‡å±•ç¤ºï¼Œæ•°æ®åŒæ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1 || currentStep === 2}}">
      <view class="section-header">
        <text class="section-title">æˆ‘çš„éœ€æ±‚</text>
        <view class="add-btn" bindtap="openNeedTypeSheet">
          <text class="add-icon">+</text>
          <text>æ·»åŠ </text>
        </view>
      </view>

      <!-- æ¦‚å†µï¼ˆæŒªåˆ°è„±å•ä¹‹ä¸Šï¼‰ -->
      <view class="form-row">
        <text class="form-label">æ¦‚å†µ</text>
        <textarea class="form-input multi-line" placeholder="è‡ªç”±è¡¥å……ï¼ˆå©šå§»ã€æ±‚èŒã€åˆ›ä¸šç­‰ï¼‰" value="{{needsText}}" data-field="needsText" bindinput="onInputChange" />
        <view class="visibility-cell" data-field="needsText" data-label="æ¦‚å†µ" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.needsText || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>

      <!-- è„±å• -->
      <view class="form-row">
        <text class="form-label">è„±å•åŒ¹é…</text>
        <view class="add-btn" bindtap="openDatingSheet">
          <text class="add-icon">+</text>
          <text>æ·»åŠ </text>
        </view>
        <view class="visibility-cell" data-field="dating" data-label="è„±å•åŒ¹é…" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.dating || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="section-hint" wx:if="{{(maritalStatusLabel && maritalStatusLabel !== 'è¯·é€‰æ‹©') || datingPreferences}}">
        {{maritalStatusLabel && maritalStatusLabel !== 'è¯·é€‰æ‹©' ? ('å©šå§»çŠ¶å†µï¼š' + maritalStatusLabel + ' ') : ''}}{{datingPreferences ? ('åå¥½ï¼š' + datingPreferences) : ''}}
      </view>

      <!-- æ±‚èŒ -->
      <view class="form-row">
        <text class="form-label">æ±‚èŒåŒ¹é…</text>
        <view class="add-btn" bindtap="openJobSheet">
          <text class="add-icon">+</text>
          <text>æ·»åŠ </text>
        </view>
        <view class="visibility-cell" data-field="job" data-label="æ±‚èŒåŒ¹é…" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.job || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="section-hint" wx:if="{{jobTargetPosition || jobTargetIndustry || jobPreferences}}">
        {{jobTargetPosition ? ('ç›®æ ‡èŒä½ï¼š' + jobTargetPosition + ' ') : ''}}{{jobTargetIndustry ? ('ç›®æ ‡è¡Œä¸šï¼š' + jobTargetIndustry + ' ') : ''}}{{jobPreferences ? ('åå¥½ï¼š' + jobPreferences) : ''}}
      </view>

      <!-- åˆ›ä¸š -->
      <view class="form-row">
        <text class="form-label">åˆ›ä¸šåŒ¹é…</text>
        <view class="add-btn" bindtap="openEntreSheet">
          <text class="add-icon">+</text>
          <text>æ·»åŠ </text>
        </view>
        <view class="visibility-cell" data-field="entrepreneurship" data-label="åˆ›ä¸šåŒ¹é…" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.entrepreneurship || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
      <view class="section-hint" wx:if="{{(entrepreneurshipTypeLabel && entrepreneurshipTypeLabel !== 'è¯·é€‰æ‹©') || entrepreneurshipDescription}}">
        {{entrepreneurshipTypeLabel && entrepreneurshipTypeLabel !== 'è¯·é€‰æ‹©' ? ('éœ€æ±‚ç±»å‹ï¼š' + entrepreneurshipTypeLabel + ' ') : ''}}{{entrepreneurshipDescription ? ('æè¿°ï¼š' + entrepreneurshipDescription) : ''}}
      </view>

      <!-- æ›´å¤š / +æ·»åŠ  -->
      <view class="form-row form-row-more">
        <text class="form-label">æ›´å¤š</text>
        <view class="add-btn" bindtap="onAddMoreNeed">
          <text class="add-icon">+</text>
          <text>æ·»åŠ </text>
        </view>
        <view class="visibility-cell" data-field="more_needs" data-label="æ›´å¤š" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.more_needs || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
    </view>

    <!-- 15. æˆ‘çš„èµ„æºï¼ˆç¬¬1æ­¥åŸä½ç½® + ç¬¬2æ­¥å‡å±•ç¤ºï¼Œæ•°æ®åŒæ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1 || currentStep === 2}}">
      <view class="section-title">æˆ‘çš„èµ„æº</view>
      <view class="form-row">
        <text class="form-label">æ¦‚å†µ</text>
        <textarea class="form-input multi-line" placeholder="å¯ç®€è¦æè¿°ä½ èƒ½æä¾›çš„èµ„æºã€å¸Œæœ›å¯¹æ¥çš„æ–¹å‘" value="{{resourcesText}}" data-field="resourcesText" bindinput="onInputChange" />
        <view class="visibility-cell" data-field="resourcesText" data-label="æ¦‚å†µ" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.resourcesText || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>

      <view class="form-row section-header">
        <text class="form-label">èµ„æºåˆ—è¡¨</text>
        <view class="add-btn" bindtap="onAddResourceSheet">
          <text class="add-icon">+</text>
          <text>æ·»åŠ </text>
        </view>
      </view>

      <view wx:if="{{resources && resources.length}}">
        <view class="experience-item" wx:for="{{resources}}" wx:key="index" data-index="{{index}}" bindtap="onEditResource">
          <view class="experience-main">
            <view class="experience-title">
              {{item._typeLabel || 'æœªåˆ†ç±»'}} Â· {{item.resource_title || 'æœªå‘½åèµ„æº'}}
            </view>
            <view class="experience-sub" wx:if="{{item.resource_description}}">
              {{item.resource_description}}
            </view>
          </view>
          <view class="visibility-cell" data-field="resource_{{index}}" data-label="èµ„æº-{{index + 1}}" catchtap="onVisibilityTap">
            <text class="visibility-icon">{{resourceVisibilityIcons[index] || 'ğŸ‘ï¸'}}</text>
          </view>
        </view>
      </view>
      <view class="section-hint" wx:if="{{false && (!resources || !resources.length)}}">æš‚æœªæ·»åŠ å…·ä½“èµ„æºï¼Œå¯ç‚¹å‡»ä¸Šæ–¹ã€Œæ·»åŠ ã€è¡¥å……ã€‚</view>
    </view>

    <!-- 16. ä¸Šä¼ çº¸è´¨åç‰‡ï¼ˆç¬¬1æ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1}}">
      <view class="section-title">ä¸Šä¼ çº¸è´¨åç‰‡</view>
      <view class="form-row form-row-add-link">
        <scroll-view class="paper-cards paper-cards-inline" scroll-x>
          <view class="paper-card" wx:for="{{paperCards}}" wx:key="index">
            <image class="paper-card-img" src="{{item}}" mode="aspectFill" />
            <view class="paper-card-del" data-index="{{index}}" catchtap="onRemovePaperCard">Ã—</view>
          </view>
          <view class="paper-card-add" bindtap="onUploadPaperCard">+</view>
        </scroll-view>
        <view class="visibility-cell" data-field="paper_cards" data-label="ä¸Šä¼ çº¸è´¨åç‰‡" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.paper_cards || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
    </view>

    <!-- 17. è¡¥å……ä¿¡æ¯ï¼ˆç¬¬1æ­¥ï¼‰ -->
    <view class="section" wx:if="{{!hasAlumniConfig || currentStep === 1}}">
      <view class="section-title">è¡¥å……ä¿¡æ¯ï¼ˆä»…å†…éƒ¨åŒ¹é…ä½¿ç”¨ï¼‰</view>
      <view class="section-hint">å¯å¡«å†™ä¸€äº›ä¸ä¾¿å…¬å¼€å±•ç¤ºä½†å¯¹åŒ¹é…æœ‰å¸®åŠ©çš„ä¿¡æ¯ï¼Œä»…ç”¨äºåå°æˆ–æ™ºèƒ½åŒ¹é…é€»è¾‘ã€‚</view>
      <view class="form-row">
        <text class="form-label">å†…å®¹</text>
        <textarea class="form-input multi-line" placeholder="ä¾‹å¦‚ï¼šç›®å‰åä½è°ƒã€ä¸å¸Œæœ›å¯¹å¤–å±•ç¤ºè¡Œä¸šä¿¡æ¯ï¼›æˆ–ä¸€äº›ä»…ä¾›å†…éƒ¨å‚è€ƒçš„å¤‡æ³¨ã€‚" value="{{extraInfo}}" data-field="extraInfo" bindinput="onInputChange" />
        <view class="visibility-cell" data-field="extraInfo" data-label="è¡¥å……ä¿¡æ¯" catchtap="onVisibilityTap">
          <text class="visibility-icon">{{fieldVisibilityIcons.extraInfo || 'ğŸ‘ï¸'}}</text>
        </view>
      </view>
    </view>

    <view class="bottom-spacer"></view>
  </scroll-view>

  <!-- åº•éƒ¨æŒ‰é’® -->
  <view class="v3-footer">
    <view class="btn-preview" bindtap="onPreview">
      <text class="btn-preview-icon">ğŸ‘</text>
      <text>é¢„è§ˆåç‰‡</text>
    </view>
    <button class="btn-save" bindtap="onSave">ä¿å­˜</button>
  </view>

  <!-- åŠå±ï¼šæ·»åŠ è”ç³»æ–¹å¼ -->
  <view class="sheet-mask" wx:if="{{showContactAddSheet}}" bindtap="closeContactAddSheet"></view>
  <view class="sheet-panel contact-sheet {{showContactAddSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeContactAddSheet">Ã—</text>
      <text class="sheet-title">æ·»åŠ è”ç³»æ–¹å¼</text>
    </view>
    <view class="contact-type-grid">
      <view class="contact-type-item" wx:for="{{contactTypeGrid}}" wx:key="label" data-type="{{item.type}}" data-label="{{item.label}}" data-location-type="{{item.location_type}}" bindtap="onSelectContactType">
        <view class="contact-type-icon">{{item.type === 'phone' ? 'ğŸ“±' : item.type === 'landline' ? 'â˜' : item.type === 'email' ? 'âœ‰' : item.type === 'fax' ? 'ğŸ“ ' : item.type === 'wechat' ? 'ğŸ’¬' : item.type === 'qq' ? 'ğŸ§' : item.type === 'weibo' ? 'ğŸ¦' : item.type === 'address' ? (item.location_type === 'residence' ? 'ğŸ ' : item.location_type === 'work' ? 'ğŸ¢' : item.location_type === 'temp_event' ? 'ğŸ“' : 'ğŸ“Œ') : item.type === 'linkedin' ? 'in' : 'ğŸ”—'}}</view>
        <text class="contact-type-label">{{item.label}}</text>
      </view>
    </view>
  </view>

  <!-- åŠå±ï¼šé€‰æ‹©åœ°å€ç±»å‹ï¼ˆç‚¹å‡»æŸæ¡åœ°å€å³ä¾§ + æ—¶ï¼‰ -->
  <view class="sheet-mask" wx:if="{{showAddressTypeSheet}}" bindtap="closeAddressTypeSheet"></view>
  <view class="sheet-panel {{showAddressTypeSheet ? 'sheet-show' : ''}}" wx:if="{{showAddressTypeSheet}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeAddressTypeSheet">Ã—</text>
      <text class="sheet-title">æ·»åŠ åœ°å€</text>
    </view>
    <view class="sheet-body need-type-grid-wrap">
      <view class="need-type-grid">
        <view class="need-type-item" wx:for="{{addressTypeGrid}}" wx:key="location_type" data-label="{{item.label}}" data-location-type="{{item.location_type}}" bindtap="onSelectAddressType">
          <text class="need-type-icon">{{item.icon}}</text>
          <text class="need-type-label">{{item.label}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠå±ï¼šé€‰æ‹©å¤´åƒ -->
  <view class="sheet-mask" wx:if="{{showAvatarSheet}}" bindtap="closeAvatarSheet"></view>
  <view class="sheet-panel edu-sheet {{showAvatarSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeAvatarSheet">Ã—</text>
      <text class="sheet-title">é€‰æ‹©å¤´åƒ</text>
    </view>
    <scroll-view class="sheet-body" scroll-y>
      <view class="avatar-grid">
        <view class="avatar-grid-item" wx:for="{{avatarOptions}}" wx:key="value" data-url="{{item.value}}" bindtap="onSelectAvatar">
          <image class="avatar-grid-img" src="{{item.value}}" mode="aspectFill" />
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- åŠå±ï¼šæ ¡è‘£ä¼šèŒåŠ¡é€‰æ‹©ï¼ˆé€‰é¡¹å¹³é“ºï¼‰ -->
  <view class="sheet-mask" wx:if="{{showBoardPositionSheet}}" bindtap="closeBoardPositionSheet"></view>
  <view class="sheet-panel edu-sheet {{showBoardPositionSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeBoardPositionSheet">Ã—</text>
      <text class="sheet-title">æ ¡è‘£ä¼šèŒåŠ¡</text>
    </view>
    <scroll-view class="sheet-body" scroll-y>
      <view class="board-option-row" wx:for="{{boardPositionOptions}}" wx:key="value" data-value="{{item.value}}" data-label="{{item.label}}" bindtap="onSelectBoardPosition">
        <text class="board-option-label">{{item.label}}</text>
      </view>
    </scroll-view>
  </view>

  <!-- åŠå±ï¼šæ•™è‚²ç»å† - å…ˆé€‰å­¦å†å±‚çº§ï¼ˆä¹å®«æ ¼ï¼‰ -->
  <view class="sheet-mask" wx:if="{{showEduLevelSheet}}" bindtap="closeEduLevelSheet"></view>
  <view class="sheet-panel {{showEduLevelSheet ? 'sheet-show' : ''}}" wx:if="{{showEduLevelSheet}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeEduLevelSheet">Ã—</text>
      <text class="sheet-title">é€‰æ‹©å­¦å†å±‚çº§</text>
    </view>
    <view class="sheet-body need-type-grid-wrap">
      <view class="need-type-grid">
        <view class="need-type-item" wx:for="{{eduLevelGrid}}" wx:key="degree" data-degree="{{item.degree}}" data-label="{{item.label}}" bindtap="onSelectEduLevel">
          <text class="need-type-icon">{{item.icon}}</text>
          <text class="need-type-label">{{item.label}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠå±ï¼šæ·»åŠ /ç¼–è¾‘æ•™è‚²ç»å† -->
  <view class="sheet-mask" wx:if="{{showEduSheet}}" bindtap="closeEduSheet"></view>
  <view class="sheet-panel edu-sheet {{showEduSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeEduSheet">Ã—</text>
      <text class="sheet-title">{{eduEditIndex >= 0 ? 'ç¼–è¾‘æ•™è‚²ç»å†' : 'æ·»åŠ æ•™è‚²ç»å†'}}</text>
    </view>
    <scroll-view class="sheet-body" scroll-y>
      <view class="form-row">
        <text class="form-label">æ•™è‚²é˜¶æ®µ *</text>
        <picker class="form-picker" mode="selector" range="{{degreeOptions}}" bindchange="onEduDegreeChange">
          <view class="form-input">{{degreeLabel}}</view>
        </picker>
        <text class="form-arrow">></text>
      </view>
      <view class="form-row">
        <text class="form-label">å­¦æ ¡ *</text>
        <input class="form-input" placeholder="å¿…å¡«" value="{{eduForm.school}}" data-field="school" bindinput="onEduFormInput" />
      </view>
      <view class="form-row" wx:if="{{eduForm.degree === 'æœ¬ç§‘' || eduForm.degree === 'ç¡•å£«' || eduForm.degree === 'åšå£«'}}">
        <text class="form-label">é™¢ç³»</text>
        <input class="form-input" placeholder="å¦‚ï¼šè®¡ç®—æœºå­¦é™¢ã€ç»ç®¡å­¦é™¢" value="{{eduForm.department}}" data-field="department" bindinput="onEduFormInput" />
      </view>
      <view class="form-row" wx:if="{{eduForm.degree !== 'å°å­¦' && eduForm.degree !== 'åˆä¸­'}}">
        <text class="form-label">ä¸“ä¸š</text>
        <input class="form-input" placeholder="è¯·è¾“å…¥æ‰€è¯»ä¸“ä¸šåç§°" value="{{eduForm.major}}" data-field="major" bindinput="onEduFormInput" />
      </view>
      <view class="form-row">
        <text class="form-label">ç­çº§</text>
        <input class="form-input" placeholder="å¦‚ï¼šä¸‰å¹´äºŒç­ / é€šä¿¡ 1001 ç­" value="{{eduForm.className}}" data-field="className" bindinput="onEduFormInput" />
      </view>
      <view class="form-row">
        <text class="form-label">å…¥å­¦æ—¶é—´</text>
        <picker class="form-picker" mode="date" value="{{eduForm.enrollDate}}" start="1980-01" end="2030-12" bindchange="onEduEnrollDateChange">
          <view class="form-input">{{eduForm.enrollDate || 'è¯·é€‰æ‹©'}}</view>
        </picker>
        <text class="form-arrow">></text>
      </view>
      <view class="form-row">
        <text class="form-label">æ¯•ä¸šæ—¶é—´</text>
        <picker class="form-picker" mode="date" value="{{eduForm.graduateDate}}" start="1980-01" end="2030-12" bindchange="onEduGraduateDateChange">
          <view class="form-input">{{eduForm.graduateDate || 'è¯·é€‰æ‹©'}}</view>
        </picker>
        <text class="form-arrow">></text>
      </view>
      <view class="sheet-actions">
        <view class="sheet-btn-delete" bindtap="deleteEdu">åˆ é™¤</view>
        <button class="sheet-btn-save" bindtap="saveEdu">ä¿å­˜</button>
      </view>
    </scroll-view>
  </view>

  <!-- åŠå±ï¼šæ·»åŠ /ç¼–è¾‘å·¥ä½œç»å† -->
  <view class="sheet-mask" wx:if="{{showWorkSheet}}" bindtap="closeWorkSheet"></view>
  <view class="sheet-panel work-sheet {{showWorkSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeWorkSheet">Ã—</text>
      <text class="sheet-title">{{workEditIndex >= 0 ? 'ç¼–è¾‘å·¥ä½œç»å†' : 'æ·»åŠ å·¥ä½œç»å†'}}</text>
    </view>
    <scroll-view class="sheet-body" scroll-y>
      <view class="form-row">
        <text class="form-label">å…¬å¸ *</text>
        <input class="form-input" placeholder="å¿…å¡«" value="{{workForm.company}}" data-field="company" bindinput="onWorkFormInput" />
      </view>
      <view class="form-row">
        <text class="form-label">èŒä½ *</text>
        <input class="form-input" placeholder="å¿…å¡«" value="{{workForm.title}}" data-field="title" bindinput="onWorkFormInput" />
      </view>
      <view class="form-row">
        <text class="form-label">éƒ¨é—¨</text>
        <input class="form-input" placeholder="è¯·è¾“å…¥éƒ¨é—¨åç§°" value="{{workForm.department}}" data-field="department" bindinput="onWorkFormInput" />
      </view>
      <view class="form-row">
        <text class="form-label">å…¥èŒæ—¶é—´</text>
        <picker class="form-picker" mode="date" value="{{workForm.startDate}}" start="1980-01" end="2030-12" bindchange="onWorkStartDateChange">
          <view class="form-input">{{workForm.startDate || 'è¯·é€‰æ‹©'}}</view>
        </picker>
        <text class="form-arrow">></text>
      </view>
      <view class="form-row form-row-with-switch">
        <text class="form-label">ç¦»èŒæ—¶é—´</text>
        <picker class="form-picker" mode="date" value="{{workForm.endDate}}" start="1980-01" end="2030-12" bindchange="onWorkEndDateChange">
          <view class="form-input">{{workForm.endDate || 'è¯·é€‰æ‹©'}}</view>
        </picker>
        <view class="work-current-wrap">
          <switch class="work-current-switch" checked="{{workForm.currentJob}}" bindchange="onWorkFormSwitch" />
          <text class="work-current-label">å½“å‰åœ¨èŒ</text>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">ç»å†æè¿°</text>
        <textarea class="form-input multi-line" placeholder="å¡«å†™ç›¸å…³ç»å†æè¿°" value="{{workForm.description}}" data-field="description" bindinput="onWorkFormInput" />
      </view>
      <view class="sheet-actions">
        <view class="sheet-btn-delete" bindtap="deleteWork">åˆ é™¤</view>
        <button class="sheet-btn-save" bindtap="saveWork">ä¿å­˜</button>
      </view>
    </scroll-view>
  </view>

  <!-- åŠå±ï¼šç¼–è¾‘è„±å• -->
  <view class="sheet-mask" wx:if="{{showDatingSheet}}" bindtap="closeDatingSheet"></view>
  <view class="sheet-panel edu-sheet {{showDatingSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeDatingSheet">Ã—</text>
      <text class="sheet-title">æ·»åŠ äº¤å‹åŒ¹é…éœ€æ±‚</text>
    </view>
    <scroll-view class="sheet-body" scroll-y>
      <view class="form-row">
        <text class="form-label">å©šå§»çŠ¶å†µ</text>
        <view class="option-chip-row">
          <view
            class="option-chip {{item.value === marital_status ? 'option-chip-selected' : ''}}"
            wx:for="{{maritalOptions}}"
            wx:key="value"
            data-value="{{item.value}}"
            data-label="{{item.label}}"
            bindtap="onMaritalStatusTap"
          >
            {{item.label}}
          </view>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">ç›¸äº²åå¥½</text>
        <textarea class="form-input multi-line" placeholder="è¯·æè¿°æ‚¨çš„ç›¸äº²åå¥½..." value="{{datingPreferences}}" data-field="datingPreferences" bindinput="onInputChange" />
      </view>
      <view class="sheet-actions">
        <button class="sheet-btn-save" bindtap="saveDating">ä¿å­˜</button>
      </view>
    </scroll-view>
  </view>

  <!-- åŠå±ï¼šç¼–è¾‘æ±‚èŒ -->
  <view class="sheet-mask" wx:if="{{showJobSheet}}" bindtap="closeJobSheet"></view>
  <view class="sheet-panel edu-sheet {{showJobSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeJobSheet">Ã—</text>
      <text class="sheet-title">æ·»åŠ æ±‚èŒéœ€æ±‚</text>
    </view>
    <scroll-view class="sheet-body" scroll-y>
      <view class="form-row">
        <text class="form-label">ç›®æ ‡èŒä½</text>
        <input class="form-input" placeholder="ç›®æ ‡èŒä½" value="{{jobTargetPosition}}" data-field="jobTargetPosition" bindinput="onInputChange" />
      </view>
      <view class="form-row">
        <text class="form-label">ç›®æ ‡è¡Œä¸š</text>
        <input class="form-input" placeholder="ç›®æ ‡è¡Œä¸š" value="{{jobTargetIndustry}}" data-field="jobTargetIndustry" bindinput="onInputChange" />
      </view>
      <view class="form-row">
        <text class="form-label">å·¥ä½œåå¥½</text>
        <textarea class="form-input multi-line" placeholder="å·¥ä½œåå¥½" value="{{jobPreferences}}" data-field="jobPreferences" bindinput="onInputChange" />
      </view>
      <view class="sheet-actions">
        <button class="sheet-btn-save" bindtap="saveJob">ä¿å­˜</button>
      </view>
    </scroll-view>
  </view>

  <!-- åŠå±ï¼šç¼–è¾‘åˆ›ä¸š -->
  <view class="sheet-mask" wx:if="{{showEntreSheet}}" bindtap="closeEntreSheet"></view>
  <view class="sheet-panel edu-sheet {{showEntreSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeEntreSheet">Ã—</text>
      <text class="sheet-title">æ·»åŠ åˆ›ä¸šåŒ¹é…éœ€æ±‚</text>
    </view>
    <scroll-view class="sheet-body" scroll-y>
      <view class="form-row">
        <text class="form-label">éœ€æ±‚ç±»å‹</text>
        <view class="option-chip-row">
          <view
            class="option-chip {{item.value === entrepreneurship_type ? 'option-chip-selected' : ''}}"
            wx:for="{{entrepreneurshipTypeOptions}}"
            wx:key="value"
            data-value="{{item.value}}"
            data-label="{{item.label}}"
            bindtap="onEntrepreneurshipTypeTap"
          >
            {{item.label}}
          </view>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">åˆ›ä¸šæè¿°</text>
        <textarea class="form-input multi-line" placeholder="è¯·æè¿°æ‚¨çš„åˆ›ä¸šéœ€æ±‚..." value="{{entrepreneurshipDescription}}" data-field="entrepreneurshipDescription" bindinput="onInputChange" />
      </view>
      <view class="sheet-actions">
        <button class="sheet-btn-save" bindtap="saveEntre">ä¿å­˜</button>
      </view>
    </scroll-view>
  </view>

  <!-- åŠå±ï¼šæ·»åŠ /ç¼–è¾‘èµ„æº -->
  <view class="sheet-mask" wx:if="{{showResourceSheet}}" bindtap="closeResourceSheet"></view>
  <view class="sheet-panel edu-sheet {{showResourceSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeResourceSheet">Ã—</text>
      <text class="sheet-title">{{resourceEditIndex >= 0 ? 'ç¼–è¾‘èµ„æº' : 'æ·»åŠ èµ„æº'}}</text>
    </view>
    <scroll-view class="sheet-body" scroll-y>
      <view class="form-row">
        <text class="form-label">ç±»å‹</text>
        <view class="option-chip-row">
          <view
            class="option-chip {{item.value === resourceForm.resource_type ? 'option-chip-selected' : ''}}"
            wx:for="{{resourceTypeOptions}}"
            wx:key="value"
            data-value="{{item.value}}"
            data-label="{{item.label}}"
            bindtap="onResourceFormTypeTap"
          >
            {{item.label}}
          </view>
        </view>
      </view>
      <view class="form-row">
        <text class="form-label">æ ‡é¢˜</text>
        <input class="form-input" placeholder="èµ„æºæ ‡é¢˜" value="{{resourceForm.resource_title}}" data-field="resource_title" bindinput="onResourceFormInput" />
      </view>
      <view class="form-row">
        <text class="form-label">æè¿°</text>
        <textarea class="form-input multi-line" placeholder="èµ„æºæè¿°" value="{{resourceForm.resource_description}}" data-field="resource_description" bindinput="onResourceFormInput" />
      </view>
      <view class="form-row">
        <text class="form-label">åˆ†äº«æ–¹å¼</text>
        <view class="option-chip-row">
          <view
            class="option-chip {{item.value === resourceForm.sharing_mode ? 'option-chip-selected' : ''}}"
            wx:for="{{sharingModeOptions}}"
            wx:key="value"
            data-value="{{item.value}}"
            data-label="{{item.label}}"
            bindtap="onResourceFormModeTap"
          >
            {{item.label}}
          </view>
        </view>
      </view>
      <view class="sheet-actions">
        <view class="sheet-btn-delete" wx:if="{{resourceEditIndex >= 0}}" bindtap="deleteResource">åˆ é™¤</view>
        <button class="sheet-btn-save" bindtap="saveResource">ä¿å­˜</button>
      </view>
    </scroll-view>
  </view>

  <!-- åŠå±ï¼šæ·»åŠ /ç¼–è¾‘è‡ªæˆ‘ç®€ä»‹å¡ç‰‡ -->
  <view class="sheet-mask" wx:if="{{showIntroSheet}}" bindtap="closeIntroSheet"></view>
  <view class="sheet-panel edu-sheet {{showIntroSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeIntroSheet">Ã—</text>
      <text class="sheet-title">{{introEditIndex >= 0 ? 'ç¼–è¾‘ç®€ä»‹' : 'æ·»åŠ ç®€ä»‹'}}</text>
    </view>
    <scroll-view class="sheet-body" scroll-y>
      <view class="form-row">
        <text class="form-label">å§“å</text>
        <input class="form-input" placeholder="å§“å" value="{{introForm.name}}" data-field="name" bindinput="onIntroFormInput" />
      </view>
      <view class="form-row" bindtap="onIntroPhotoTap">
        <text class="form-label">ç…§ç‰‡</text>
        <image class="form-avatar" wx:if="{{introForm.photo}}" src="{{introForm.photo}}" mode="aspectFill" />
        <text class="form-input form-input-placeholder" wx:else>ç‚¹å‡»é€‰æ‹©</text>
        <text class="form-arrow">></text>
      </view>
      <view class="form-row">
        <text class="form-label">ç®€ä»‹æ–‡å­—</text>
        <textarea
          class="form-input multi-line intro-textarea"
          placeholder="å¤§å­¦-å±Šåˆ«-ä¸“ä¸š&#10;æ¯•ä¸šå¹´ä»½-å·¥ä½œåœ°ç‚¹&#10;ç›®å‰å¸¸ä½åŒºåŸŸ&#10;å°±èŒå•ä½-ç›®å‰å·¥ä½œ/åˆ›ä¸šçŠ¶æ€&#10;ç›®å‰æ˜¯å¦æœ‰éœ€è¦ éœ€æ±‚-èµ„æº&#10;è¿åŠ¨/å…´è¶£çˆ±å¥½&#10;è”ç³»ç”µè¯-æ˜¯å¦æ–¹ä¾¿çº¦&#10;ç­‰ç­‰..."
          value="{{introForm.introText}}"
          data-field="introText"
          bindinput="onIntroFormInput"
        />
      </view>
      <view class="form-row">
        <text class="form-label">é€‚ç”¨åœºæ™¯</text>
        <input class="form-input" placeholder="å¦‚ï¼šçº¿ä¸‹æ´»åŠ¨ã€çº¿ä¸Šå¯¹æ¥" value="{{introForm.scene}}" data-field="scene" bindinput="onIntroFormInput" />
      </view>
      <view class="sheet-actions">
        <view class="sheet-btn-delete" wx:if="{{introEditIndex >= 0}}" bindtap="deleteIntroCard">åˆ é™¤</view>
        <button class="sheet-btn-save" bindtap="saveIntroCard">ä¿å­˜</button>
      </view>
    </scroll-view>
  </view>

  <!-- åŠå±ï¼šæˆ‘çš„éœ€æ±‚ - é€‰æ‹©æ·»åŠ ç±»å‹ï¼ˆä¹å®«æ ¼ icon+æ–‡å­—ï¼‰ -->
  <view class="sheet-mask" wx:if="{{showNeedTypeSheet}}" bindtap="closeNeedTypeSheet"></view>
  <view class="sheet-panel edu-sheet {{showNeedTypeSheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeNeedTypeSheet">Ã—</text>
      <text class="sheet-title">æ·»åŠ éœ€æ±‚ç±»å‹</text>
    </view>
    <view class="need-type-grid">
      <view class="need-type-item" wx:for="{{needTypeGrid}}" wx:key="type" data-type="{{item.type}}" bindtap="onSelectNeedType">
        <text class="need-type-icon">{{item.icon}}</text>
        <text class="need-type-label">{{item.label}}</text>
      </view>
    </view>
  </view>

  <!-- åŠå±ï¼šè®¾ç½®å¯è§æ€§ï¼ˆå…¬å¼€/ç§å¯†/æ‰“ç /å¥½å‹/æ ¡å‹ï¼‰ -->
  <view class="sheet-mask" wx:if="{{showVisibilitySheet}}" bindtap="closeVisibilitySheet"></view>
  <view class="sheet-panel edu-sheet {{showVisibilitySheet ? 'sheet-show' : ''}}">
    <view class="sheet-head">
      <text class="sheet-close" bindtap="closeVisibilitySheet">Ã—</text>
      <text class="sheet-title">å¯è§æ€§ï¼š{{visibilityEditingLabel}}</text>
    </view>
    <scroll-view class="sheet-body" scroll-y>
      <view class="visibility-option-row {{item.value === visibilityEditingValue ? 'visibility-option-selected' : ''}}" wx:for="{{visibilityOptions}}" wx:key="value" data-value="{{item.value}}" bindtap="onSelectVisibility">
        <text class="visibility-option-icon">{{item.icon}}</text>
        <text class="visibility-option-label">{{item.label}}</text>
      </view>
    </scroll-view>
  </view>
</view>
